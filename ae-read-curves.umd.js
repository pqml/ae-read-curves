!function(r,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):r.AEReadCurves=n()}(this,function(){var r=4,n=.001,t=1e-7,e=10,i=11,o=1/(i-1),u="function"==typeof Float32Array;function a(r,n){return 1-3*n+3*r}function f(r,n){return 3*n-6*r}function v(r){return 3*r}function d(r,n,t){return((a(n,t)*r+f(n,t))*r+v(n))*r}function c(r,n,t){return 3*a(n,t)*r*r+2*f(n,t)*r+v(n)}var h=function(a,f,v,h){if(!(0<=a&&a<=1&&0<=v&&v<=1))throw new Error("bezier x values must be in [0, 1] range");var s=u?new Float32Array(i):new Array(i);if(a!==f||v!==h)for(var p=0;p<i;++p)s[p]=d(p*o,a,v);function l(u){for(var f=0,h=1,p=i-1;h!==p&&s[h]<=u;++h)f+=o;var l=f+(u-s[--h])/(s[h+1]-s[h])*o,b=c(l,a,v);return b>=n?function(n,t,e,i){for(var o=0;o<r;++o){var u=c(t,e,i);if(0===u)return t;t-=(d(t,e,i)-n)/u}return t}(u,l,a,v):0===b?l:function(r,n,i,o,u){var a,f,v=0;do{(a=d(f=n+(i-n)/2,o,u)-r)>0?i=f:n=f}while(Math.abs(a)>t&&++v<e);return f}(u,f,f+o,a,v)}return function(r){return a===f&&v===h?r:0===r?0:1===r?1:d(l(r),f,h)}},s={HOLD:0,LINEAR:1,BEZIER:2},p={badDataObj:function(){return"Unable to read curves data object."}};function l(r,n,t){return r*(1-t)+n*t}function b(r,n,t){if(!t)return n[1];var e=Math.min(Math.max((r-n[0])/(t[0]-n[0]),0),1);return n[2]===s.BEZIER?l(n[1],t[1],n[4](e)):n[2]===s.HOLD?n[1]:n[2]===s.LINEAR?l(n[1],t[1],e):0}function w(r,n,t,e){isNaN(r)&&(r=0),r=Math.min(Math.max(r,0),1);var i=e[t],o=n[i];if(r===o[0])return b(r,o,n[i+1]);var u=r>=o[0]?1:-1,a=i,f=o,v=n.length-1;if(r<=n[0][0])return e[t]=0,n[0][1];if(r>=n[v][0])return e[t]=v,n[v][1];for(;;){var d=a+u,c=n[d];if(1===u&&(void 0===c||c[0]>r))return e[t]=a,b(r,f,n[a+1]);if(-1===u&&(void 0===c||c[0]<=r))return d<0&&(d=0,c=n[0]),e[t]=d,b(r,c,n[d+1]);a=d,f=c}}return function(r,n){void 0===r&&(r={}),void 0===n&&(n={});var t=JSON.parse(JSON.stringify(r));!function(r){if(!r||void 0===r.d||void 0===r.w||void 0===r.h||void 0===r.k)throw new Error(p.badDataObj)}(t);var e=t.d,i=t.w,o=t.h,u=t.k;if(n.props)for(var a in u)~n.props.indexOf(a)||delete u[a];var f={},v={};for(var d in u)v[d]=0;return function(r){for(var n in r)r[n].map(function(r){if(!r[3])return r;r[4]=h(r[3][0],r[3][1],r[3][2],r[3][3])})}(u),c(0),{seek:c,val:f,values:f,v:f,duration:e,width:i,height:o};function c(r){for(var n in void 0===r&&(r=0),u)f[n]=w(r,u[n],n,v)}}});
//# sourceMappingURL=ae-read-curves.umd.js.map
